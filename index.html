<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriveSafeAI | Smart Vehicle Safety & Maintenance</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ========== CUSTOM DESIGN SYSTEM ========== */
        :root {
            --primary: #3a86ff;
            --primary-dark: #2667cc;
            --secondary: #8338ec;
            --accent: #ff006e;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
            --dark: #1a1a2e;
            --darker: #0d0d1a;
            --light: #f8f9fa;
            --card: #16213e;
            --bg: #0f3460;
            --gradient: linear-gradient(135deg, #3a86ff 0%, #8338ec 100%);
            --gradient-dark: linear-gradient(135deg, #2667cc 0%, #5a2a9e 100%);
            --shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
            --shadow-lg: 0 15px 35px rgba(0, 0, 0, 0.35);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg);
            color: var(--light);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* ========== UNIQUE GLASS EFFECT ========== */
        .smart-card {
            background: rgba(22, 33, 62, 0.75);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 24px;
            margin-bottom: 20px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .smart-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient);
        }

        .smart-card:hover {
            transform: translateY(-7px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* ========== MODERN LAYOUT SYSTEM ========== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .smart-grid {
            display: grid;
            gap: 24px;
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }

        /* ========== UNIQUE NAVIGATION ========== */
        .smart-nav {
            background: rgba(26, 26, 46, 0.92);
            backdrop-filter: blur(20px);
            padding: 1.2rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.6rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }

        .brand-icon {
            width: 42px;
            height: 42px;
            background: var(--gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .brand-icon::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .brand:hover .brand-icon::after {
            transform: translateX(100%);
        }

        .nav-menu {
            display: flex;
            gap: 2.2rem;
            align-items: center;
        }

        .nav-item {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-item:hover {
            color: var(--primary);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--gradient);
            border-radius: 2px;
        }

        /* ========== HERO SECTION WITH UNIQUE DESIGN ========== */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            background: 
                radial-gradient(circle at 15% 70%, rgba(58, 134, 255, 0.15) 0%, transparent 45%),
                radial-gradient(circle at 85% 30%, rgba(131, 56, 236, 0.15) 0%, transparent 45%),
                var(--darker);
            position: relative;
            overflow: hidden;
            padding-top: 100px;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: var(--primary);
            filter: blur(100px);
            opacity: 0.1;
            top: 20%;
            left: 10%;
        }

        .hero-section::after {
            content: '';
            position: absolute;
            width: 250px;
            height: 250px;
            border-radius: 50%;
            background: var(--secondary);
            filter: blur(80px);
            opacity: 0.1;
            bottom: 10%;
            right: 10%;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 4rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: 3.8rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 30%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-description {
            font-size: 1.25rem;
            color: #a8b2d1;
            margin-bottom: 2.5rem;
            line-height: 1.6;
        }

        /* ========== UNIQUE BUTTON SYSTEM ========== */
        .action-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.7rem;
            padding: 0.9rem 1.8rem;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.4s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .action-btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.08);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-3px);
        }

        /* ========== UNIQUE LOGIN PAGE ========== */
        #auth-view {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: 
                radial-gradient(circle at 15% 70%, rgba(58, 134, 255, 0.15) 0%, transparent 45%),
                radial-gradient(circle at 85% 30%, rgba(131, 56, 236, 0.15) 0%, transparent 45%),
                var(--darker);
            padding: 20px;
            position: relative;
        }

        .auth-container {
            background: rgba(22, 33, 62, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            padding: 45px 35px;
            width: 100%;
            max-width: 480px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .auth-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: var(--gradient);
        }

        .auth-header h1 {
            font-size: 2.7rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .auth-header p {
            color: #a8b2d1;
            margin-bottom: 2.5rem;
            font-size: 1.1rem;
        }

        .role-selector {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 10px;
            padding: 6px;
        }

        .role-selector input[type="radio"] { 
            display: none; 
        }

        .role-selector label {
            flex-grow: 1;
            padding: 12px 18px;
            cursor: pointer;
            border-radius: 8px;
            color: #a8b2d1;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .role-selector input[type="radio"]:checked + label {
            background: var(--gradient);
            color: white;
            box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
        }

        .form-group {
            text-align: left;
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: #a8b2d1;
            font-size: 0.95rem;
        }

        .form-control {
            width: 100%;
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }

        .auth-btn {
            width: 100%;
            padding: 16px;
            background: var(--gradient);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.4s ease;
            font-family: 'Poppins', sans-serif;
        }

        .auth-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .error-message {
            color: var(--danger);
            margin-top: 12px;
            min-height: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .ai-help {
            margin-top: 25px;
            padding: 14px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .ai-help:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
        }

        /* ========== DASHBOARD STYLES ========== */
        .dashboard {
            display: none;
            min-height: 100vh;
            padding-top: 100px;
            background: var(--darker);
        }

        .dashboard-sidebar {
            width: 280px;
            background: rgba(26, 26, 46, 0.92);
            backdrop-filter: blur(20px);
            padding: 2.2rem 1.8rem;
            position: fixed;
            height: calc(100vh - 100px);
            overflow-y: auto;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-brand {
            font-size: 1.9rem;
            font-weight: 700;
            margin-bottom: 2.5rem;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            margin-bottom: 2.5rem;
        }

        .sidebar-nav a {
            color: #a8b2d1;
            text-decoration: none;
            padding: 14px 18px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 14px;
            font-weight: 500;
        }

        .sidebar-nav a i {
            width: 22px;
            text-align: center;
            font-size: 1.1rem;
        }

        .sidebar-nav a:hover, .sidebar-nav a.active {
            background: rgba(58, 134, 255, 0.15);
            color: white;
            border-left: 4px solid var(--primary);
        }

        .logout-btn {
            display: flex;
            align-items: center;
            gap: 14px;
            color: #a8b2d1;
            text-decoration: none;
            padding: 14px 18px;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-top: auto;
            font-weight: 500;
        }

        .logout-btn:hover {
            background: rgba(239, 71, 111, 0.15);
            color: var(--danger);
        }

        .dashboard-content {
            margin-left: 280px;
            padding: 2.5rem;
            width: calc(100% - 280px);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dashboard-header h2 {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .user-status {
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }

        .status-ok {
            color: var(--success);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-alert {
            color: var(--warning);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-error {
            color: var(--danger);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .card-grid {
            display: grid;
            gap: 28px;
            margin-top: 28px;
        }

        .card-grid-2 { grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); }
        .card-grid-3 { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
        .card-grid-4 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }

        .quick-action {
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            padding: 1.8rem;
            border-radius: var(--radius);
        }

        .quick-action:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.05);
        }

        .quick-action i {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 1.2rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ========== MAINTENANCE ALERTS ========== */
        .alert-card {
            background: linear-gradient(135deg, rgba(255, 209, 102, 0.15) 0%, rgba(239, 71, 111, 0.15) 100%);
            color: var(--light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-bottom: 1.8rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--warning);
        }

        .alert-card.danger {
            background: linear-gradient(135deg, rgba(239, 71, 111, 0.15) 0%, rgba(131, 56, 236, 0.15) 100%);
            border-left-color: var(--danger);
        }

        .alert-card.success {
            background: linear-gradient(135deg, rgba(6, 214, 160, 0.15) 0%, rgba(58, 134, 255, 0.15) 100%);
            border-left-color: var(--success);
        }

        .alert-icon {
            font-size: 1.8rem;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 700;
            margin-bottom: 0.4rem;
            font-size: 1.1rem;
        }

        .alert-actions {
            display: flex;
            gap: 0.7rem;
        }

        .alert-btn {
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .alert-btn.primary {
            background: var(--dark);
            color: white;
        }

        .alert-btn.secondary {
            background: rgba(255, 255, 255, 0.15);
            color: var(--light);
        }

        /* ========== REFLEX TEST STYLES ========== */
        .reflex-test {
            text-align: center;
            padding: 2.5rem;
        }

        #stimulus-display {
            min-height: 140px;
            margin: 2.5rem auto;
            width: 90%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3.2rem;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
        }

        .stimulus-active {
            color: var(--success);
            border-color: var(--success);
            box-shadow: 0 0 25px rgba(6, 214, 160, 0.4);
            background: rgba(6, 214, 160, 0.05);
        }

        #reflex-result {
            margin-top: 1.8rem;
            font-size: 1.3rem;
            font-weight: 600;
            min-height: 2.2rem;
        }

        /* ========== FEATURES SECTION ========== */
        .features-section {
            padding: 5rem 0;
            background: var(--darker);
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: 2.8rem;
            margin-bottom: 1.2rem;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-header p {
            color: #a8b2d1;
            font-size: 1.2rem;
            max-width: 650px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
            gap: 2.5rem;
        }

        .feature-card {
            text-align: center;
            padding: 3rem 2.2rem;
        }

        .feature-icon {
            width: 90px;
            height: 90px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.8rem;
            position: relative;
            overflow: hidden;
        }

        .feature-icon::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
        }

        .feature-icon i {
            font-size: 2.2rem;
            color: white;
            z-index: 1;
        }

        /* ========== PARTS MARKETPLACE ========== */
        .parts-marketplace {
            padding: 5rem 0;
            background: var(--bg);
        }

        .parts-filters {
            display: flex;
            gap: 1.2rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
        }

        .filter-option {
            padding: 0.7rem 1.4rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.06);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-option.active, .filter-option:hover {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
        }

        .parts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2.5rem;
        }

        .part-card {
            background: var(--card);
            border-radius: var(--radius);
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
        }

        .part-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .part-image {
            height: 220px;
            background: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.2rem;
            color: #a8b2d1;
        }

        .part-info {
            padding: 1.8rem;
        }

        .part-price {
            font-size: 1.7rem;
            font-weight: 700;
            color: var(--primary);
            margin: 0.7rem 0;
        }

        .part-rating {
            color: var(--warning);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* ========== SERVICE CENTERS ========== */
        .service-centers {
            padding: 5rem 0;
            background: var(--darker);
        }

        .map-container {
            height: 450px;
            border-radius: var(--radius);
            overflow: hidden;
            margin-bottom: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .centers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 2.5rem;
        }

        .center-card {
            padding: 1.8rem;
        }

        .center-info {
            display: flex;
            gap: 1.2rem;
            margin-bottom: 1.2rem;
        }

        .center-icon {
            width: 55px;
            height: 55px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .center-details h4 {
            margin-bottom: 0.6rem;
        }

        .center-meta {
            display: flex;
            gap: 1.2rem;
            margin-top: 1.2rem;
            color: #a8b2d1;
            font-size: 0.95rem;
        }

        /* ========== AI ASSISTANT ========== */
        .ai-assistant {
            position: fixed;
            bottom: 35px;
            right: 35px;
            width: 400px;
            background: var(--card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            z-index: 1000;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .assistant-header {
            background: var(--gradient);
            padding: 1.2rem 1.8rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .assistant-messages {
            height: 320px;
            padding: 1.8rem;
            overflow-y: auto;
            background: var(--dark);
        }

        .message {
            max-width: 82%;
            padding: 0.9rem 1.2rem;
            border-radius: 14px;
            margin-bottom: 1.2rem;
            word-wrap: break-word;
            line-height: 1.5;
        }

        .message.user {
            background: var(--primary);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }

        .message.ai {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-bottom-left-radius: 5px;
        }

        .assistant-input {
            padding: 1.2rem 1.8rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 0.7rem;
        }

        .assistant-input input {
            flex: 1;
            padding: 0.9rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            background: var(--dark);
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        /* ========== CART STYLES ========== */
        .cart-panel {
            position: fixed;
            top: 0;
            right: -420px;
            width: 400px;
            height: 100vh;
            background: var(--card);
            box-shadow: var(--shadow-lg);
            transition: right 0.4s ease;
            z-index: 1001;
            padding: 2.2rem;
            overflow-y: auto;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        .cart-panel.active {
            right: 0;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            display: none;
        }

        .cart-overlay.active {
            display: block;
        }

        .cart-item {
            display: flex;
            gap: 1.2rem;
            padding: 1.2rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .cart-item-image {
            width: 85px;
            height: 85px;
            background: var(--dark);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 0.7rem;
            margin-top: 0.7rem;
        }

        .quantity-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1100px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 3rem;
            }
            
            .dashboard-sidebar {
                width: 240px;
            }
            
            .dashboard-content {
                margin-left: 240px;
                width: calc(100% - 240px);
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
            
            .features-grid, .parts-grid, .centers-grid {
                grid-template-columns: 1fr;
            }
            
            .ai-assistant {
                width: calc(100vw - 50px);
                right: 25px;
                bottom: 25px;
            }
            
            .dashboard-sidebar {
                width: 100%;
                position: relative;
                height: auto;
            }
            
            .dashboard-content {
                margin-left: 0;
                width: 100%;
            }
            
            .dashboard {
                flex-direction: column;
            }
            
            .cart-panel {
                width: 90vw;
            }
        }

        /* ========== ANIMATIONS ========== */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-in {
            animation: fadeInUp 0.7s ease;
        }

        /* ========== METRIC CARDS ========== */
        .metric-card {
            text-align: center;
            padding: 1.8rem;
        }

        .metric-value {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 0.7rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ========== TABLE STYLES ========== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.2rem 0;
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            color: #a8b2d1;
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* ========== CODE STYLES ========== */
        pre {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.2rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        code {
            font-family: 'Courier New', monospace;
            color: #a8b2d1;
        }
    </style>
</head>
<body>
    <!-- Unique Navigation -->
    <nav class="smart-nav">
        <div class="container nav-container">
            <a href="#" class="brand">
                <div class="brand-icon">
                    <i class="fas fa-car-crash"></i>
                </div>
                DriveSafeAI
            </a>
            <div class="nav-menu">
                <a href="#features" class="nav-item">Features</a>
                <a href="#parts-marketplace" class="nav-item">Parts Marketplace</a>
                <a href="#service-centers" class="nav-item">Service Centers</a>
                <a href="#pricing" class="nav-item">Pricing</a>
                <a href="#about" class="nav-item">About</a>
                <button class="action-btn btn-secondary" onclick="toggleCart()">
                    <i class="fas fa-shopping-bag"></i>
                    Cart <span id="cart-count">0</span>
                </button>
                <a href="#" class="action-btn btn-primary" onclick="logout()">Logout</a>
            </div>
        </div>
    </nav>

    <!-- Authentication View -->
    <main id="auth-view">
        <div class="auth-container">
            <header class="auth-header">
                <h1>DriveSafeAI</h1>
                <p>Your Intelligent Vehicle Safety Companion</p>
            </header>

            <form id="authForm">
                <div class="role-selector">
                    <input type="radio" id="driver" name="role" value="driver" checked>
                    <label for="driver">Driver</label>
                    
                    <input type="radio" id="mechanic" name="role" value="mechanic">
                    <label for="mechanic">Mechanic</label>
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" class="form-control" name="email" required placeholder="your.email@example.com">
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-control" name="password" required placeholder="********">
                </div>

                <button type="submit" class="auth-btn">ACCESS DASHBOARD</button>
                <p class="error-message" id="errorMessage"></p>
            </form>

            <div class="ai-help" onclick="toggleAssistant()">
                <i class="fas fa-robot"></i>
                Need Help? Ask DriveSafeAI Assistant
            </div>
        </div>
    </main>

    <!-- Driver Dashboard -->
    <main id="driver-dashboard" class="dashboard">
        <div class="dashboard-sidebar">
            <div class="sidebar-brand">DriveSafeAI</div>
            <nav class="sidebar-nav">
                <a href="#" class="active" onclick="loadDriverContent('overview', this)"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                <a href="#" onclick="loadDriverContent('vehicle', this)"><i class="fas fa-car"></i> My Vehicle</a>
                <a href="#" onclick="loadDriverContent('history', this)"><i class="fas fa-history"></i> Service History</a>
                <a href="#" onclick="loadDriverContent('warranty', this)"><i class="fas fa-shield-alt"></i> Warranty Status</a>
                <a href="#" onclick="loadDriverContent('safety', this)"><i class="fas fa-heartbeat"></i> Safety Check</a>
                <a href="#" onclick="loadDriverContent('alerts', this)"><i class="fas fa-bell"></i> Maintenance Alerts</a>
                <a href="#" onclick="loadDriverContent('marketplace', this)"><i class="fas fa-shopping-bag"></i> Parts Marketplace</a>
            </nav>
            <a href="#" class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>

        <div class="dashboard-content">
            <header class="dashboard-header">
                <h2 id="driver-greeting">Welcome Back, Driver!</h2>
                <div class="user-status">
                    <p>Status: <span class="status-ok"><i class="fas fa-check-circle"></i> Active</span></p>
                </div>
            </header>

            <!-- Maintenance Alerts Banner -->
            <div class="alert-card" id="maintenance-alert">
                <div class="alert-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="alert-content">
                    <div class="alert-title">Vehicle Maintenance Required</div>
                    <div>Your vehicle has 3 parts that need attention. Check the Maintenance Alerts for details.</div>
                </div>
                <div class="alert-actions">
                    <button class="alert-btn primary" onclick="loadDriverContent('alerts', document.querySelector('.sidebar-nav a[onclick*=\"alerts\"]'))">View Alerts</button>
                    <button class="alert-btn secondary" onclick="dismissAlert()">Dismiss</button>
                </div>
            </div>

            <section id="driver-content-area">
                <div id="overview-content">
                    <h3>Vehicle Overview</h3>
                    <div class="smart-card vehicle-card">
                        <div class="vehicle-details">
                            <h4>Honda Civic (VIN: 2HG...)</h4>
                            <p>Mileage: <strong>52,340 km</strong></p>
                            <p>Last Service: <strong>Nov 10, 2025</strong></p>
                            <p>Next Service Due: <strong>55,000 km</strong> or Jan 2026</p>
                        </div>
                    </div>

                    <div class="card-grid card-grid-4">
                        <div class="smart-card quick-action" onclick="loadDriverContent('safety', document.querySelector('.sidebar-nav a[onclick*=\"safety\"]'))">
                            <i class="fas fa-brain"></i>
                            <h4>Safety Check</h4>
                            <p>Pre-drive reflex test</p>
                        </div>
                        <div class="smart-card quick-action" onclick="loadDriverContent('warranty', document.querySelector('.sidebar-nav a[onclick*=\"warranty\"]'))">
                            <i class="fas fa-file-contract"></i>
                            <h4>Warranty Status</h4>
                            <p class="status-alert"><i class="fas fa-exclamation-circle"></i> 1 Expiring Soon</p>
                        </div>
                        <div class="smart-card quick-action" onclick="findServiceCenters()">
                            <i class="fas fa-map-marked-alt"></i>
                            <h4>Find Service</h4>
                            <p>Locate nearby centers</p>
                        </div>
                        <div class="smart-card quick-action" onclick="toggleAssistant()">
                            <i class="fas fa-robot"></i>
                            <h4>AI Assistant</h4>
                            <p>Get help with your vehicle</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Features Section -->
    <section class="features-section" id="features">
        <div class="container">
            <div class="section-header">
                <h2>Smart Vehicle Management Platform</h2>
                <p>Advanced AI-powered solutions for vehicle safety, maintenance, and performance optimization</p>
            </div>
            <div class="features-grid">
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>AI Safety Analysis</h3>
                    <p>Advanced algorithms monitor driver behavior and vehicle condition to predict and prevent potential safety issues.</p>
                </div>
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Predictive Maintenance</h3>
                    <p>AI analyzes vehicle data to predict maintenance needs before they become serious problems.</p>
                </div>
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <h3>Smart Parts Marketplace</h3>
                    <p>AI-recommended parts based on your vehicle's specific needs and maintenance history.</p>
                </div>
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <h3>Fuel Efficiency Optimization</h3>
                    <p>Monitor consumption patterns and receive personalized recommendations to improve fuel economy.</p>
                </div>
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Advanced Safety Scoring</h3>
                    <p>Comprehensive safety scoring system that evaluates both vehicle condition and driving habits.</p>
                </div>
                <div class="smart-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Performance Analytics</h3>
                    <p>Detailed insights into your vehicle's performance with actionable recommendations.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant -->
    <div class="ai-assistant" id="ai-assistant">
        <div class="assistant-header">
            <div style="display: flex; align-items: center; gap: 0.8rem;">
                <i class="fas fa-robot"></i>
                <span>DriveSafeAI Assistant</span>
            </div>
            <div style="display: flex; gap: 0.6rem;">
                <button class="action-btn" style="padding: 0.6rem; background: rgba(255,255,255,0.1);" onclick="toggleVoice()">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="action-btn" style="padding: 0.6rem; background: rgba(255,255,255,0.1);" onclick="toggleAssistant()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="assistant-messages" id="assistant-messages">
            <div class="message ai">
                Hello! I'm your DriveSafeAI assistant. I can help you with vehicle maintenance, safety checks, parts recommendations, and more.
            </div>
        </div>
        <div class="assistant-input">
            <input type="text" id="assistant-input" placeholder="Ask about your vehicle, maintenance, or safety...">
            <button class="action-btn btn-primary" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Floating Assistant Button -->
    <button class="action-btn btn-primary" onclick="toggleAssistant()" style="position: fixed; bottom: 35px; right: 35px; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 999; font-size: 1.4rem;">
        <i class="fas fa-robot"></i>
    </button>

    <script>
        // DriveSafeAI - Complete Implementation
        // This platform combines vehicle safety, maintenance alerts, and AI assistance
        // in a unique, modern interface

        // ========== DATA MODELS ==========
        const vehicleParts = [
            { id: 1, name: "Advanced Brake Pads", category: "brakes", price: 94.99, rating: 4.8, image: "ðŸ›‘", description: "Premium ceramic brake pads with advanced heat dissipation" },
            { id: 2, name: "Synthetic Motor Oil", category: "fluids", price: 39.99, rating: 4.9, image: "ðŸ›¢ï¸", description: "Full synthetic 5W-30 oil for maximum engine protection" },
            { id: 3, name: "Performance Air Filter", category: "filters", price: 28.99, rating: 4.7, image: "ðŸŒ¬ï¸", description: "High-flow air filter for improved engine performance" },
            { id: 4, name: "Iridium Spark Plugs", category: "engine", price: 49.99, rating: 4.6, image: "âš¡", description: "Long-life iridium spark plugs for better ignition" },
            { id: 5, name: "Shock Absorbers Set", category: "suspension", price: 139.99, rating: 4.5, image: "ðŸ§©", description: "Premium shock absorbers for superior ride comfort" },
            { id: 6, name: "AGM Car Battery", category: "electrical", price: 159.99, rating: 4.7, image: "ðŸ”‹", description: "Advanced AGM battery with enhanced starting power" },
            { id: 7, name: "LED Headlight Bulbs", category: "lighting", price: 44.99, rating: 4.4, image: "ðŸ’¡", description: "Bright LED bulbs for improved night visibility" },
            { id: 8, name: "Oil Filter", category: "filters", price: 14.99, rating: 4.8, image: "â›½", description: "High-quality oil filter for optimal engine protection" }
        ];

        const serviceProviders = [
            { id: 1, name: "AutoCare Professionals", address: "123 Main St, Cityville", phone: "(555) 123-4567", hours: "Mon-Fri: 8AM-6PM", rating: 4.8, lat: 40.7128, lng: -74.0060 },
            { id: 2, name: "Precision Auto Service", address: "456 Oak Ave, Townsville", phone: "(555) 987-6543", hours: "Mon-Sat: 7AM-7PM", rating: 4.6, lat: 40.7282, lng: -73.9942 },
            { id: 3, name: "Elite Motor Works", address: "789 Pine Rd, Villageton", phone: "(555) 456-7890", hours: "Mon-Fri: 9AM-5PM", rating: 4.9, lat: 40.7505, lng: -73.9934 },
            { id: 4, name: "QuickFix Auto Center", address: "321 Elm St, Hamletville", phone: "(555) 234-5678", hours: "Mon-Sun: 7AM-9PM", rating: 4.3, lat: 40.7589, lng: -73.9851 }
        ];

        // Maintenance alerts data
        const maintenanceAlerts = [
            { id: 1, part: "Brake Pads", severity: "high", message: "Brake pads are at 15% remaining. Replace immediately for safety.", mileage: "51,200 km", estimatedCost: "$94.99", urgency: "Immediate" },
            { id: 2, part: "Engine Air Filter", severity: "medium", message: "Air filter is 80% clogged. Replacement recommended for optimal performance.", mileage: "49,800 km", estimatedCost: "$28.99", urgency: "Soon" },
            { id: 3, part: "Front Tires", severity: "medium", message: "Front tires showing uneven wear. Consider rotation and alignment check.", mileage: "48,500 km", estimatedCost: "$120.00", urgency: "Soon" },
            { id: 4, part: "Battery", severity: "low", message: "Battery performance is declining. Consider replacement within 2-3 months.", mileage: "47,200 km", estimatedCost: "$159.99", urgency: "Future" }
        ];

        // ========== STATE MANAGEMENT ==========
        let shoppingCart = [];
        let currentCategory = 'all';
        let voiceActive = false;
        let reflexStartTime;
        let reflexTimeout;
        let waitingForStimulus = false;

        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            // Show auth view initially
            document.getElementById('auth-view').style.display = 'flex';
            
            // Initialize parts marketplace
            initializePartsMarketplace();
            
            // Initialize service centers
            initializeServiceCenters();
            
            // Update cart count
            updateCartCount();
            
            // Add animation to elements
            const animatedElements = document.querySelectorAll('.smart-card');
            animatedElements.forEach((el, index) => {
                el.style.animationDelay = `${index * 0.1}s`;
                el.classList.add('animate-in');
            });
            
            // Auth form event listener
            const authForm = document.getElementById('authForm');
            authForm.addEventListener('submit', (e) => {
                e.preventDefault();
                authenticateUser();
            });
            
            // Event listener for sending chat messages using 'Enter' key
            document.getElementById('assistant-input').addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });

        // ========== AUTHENTICATION FUNCTIONALITY ==========
        function authenticateUser() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            const role = document.querySelector('input[name="role"]:checked').value;
            const errorMessage = document.getElementById('errorMessage');

            errorMessage.textContent = 'Authenticating...';

            setTimeout(() => {
                if (email === '' || password === '') {
                    errorMessage.textContent = 'Please enter both email and password.';
                    return;
                }

                errorMessage.textContent = '';
                redirectToDashboard(role);
            }, 1200); 
        }

        function redirectToDashboard(role) {
            document.getElementById('auth-view').style.display = 'none';

            if (role === 'driver') {
                document.getElementById('driver-dashboard').style.display = 'flex';
                document.getElementById('driver-greeting').textContent = `Welcome, ${document.getElementById('email').value.split('@')[0]}!`;
                loadDriverContent('overview', document.querySelector('.sidebar-nav a'));
            } else {
                alert('Mechanic dashboard coming soon!');
                logout();
            }
        }

        function logout() {
            document.getElementById('driver-dashboard').style.display = 'none';
            document.getElementById('auth-view').style.display = 'flex';
            document.getElementById('errorMessage').textContent = 'You have been logged out.';
        }

        // ========== DRIVER DASHBOARD LOGIC ==========
        function loadDriverContent(section, element) {
            const contentArea = document.getElementById('driver-content-area');
            let contentHTML = ''; 
            
            // Handle active state for sidebar links
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
            if (element) {
                element.classList.add('active');
            }

            if (section === 'overview') {
                // Load the default overview content
                contentArea.innerHTML = document.getElementById('overview-content').outerHTML;
                return;
            } else if (section === 'safety') {
                // Load the Safety Check module
                contentHTML = `
                    <h3>Safety Check Module</h3>
                    <div class="smart-card reflex-test">
                        <p id="reflex-instructions">Click 'Start Test' to begin the pre-drive reflex assessment.</p>
                        <div id="stimulus-display"></div>
                        <button id="reflex-button" class="action-btn btn-primary" style="width: 220px; background-color: var(--success);" onclick="startReflexTest()">START TEST</button>
                        <p id="reflex-result"></p>
                    </div>
                    <div class="smart-card" style="margin-top: 25px;">
                        <h4>Advanced Safety Features</h4>
                        <p>DriveSafeAI uses advanced algorithms to monitor your vehicle's condition and your driving patterns to ensure optimal safety.</p>
                    </div>
                `;
            } else if (section === 'history') {
                 contentHTML = `
                    <div class="smart-card">
                        <h3>Service History</h3>
                        <p>Complete record of all maintenance and repairs performed on your vehicle.</p>
                        <table>
                            <thead><tr><th>Date</th><th>Mileage</th><th>Service Type</th><th>Cost</th></tr></thead>
                            <tbody>
                                <tr><td>11/10/2025</td><td>52,000</td><td>Oil Change & Inspection</td><td><a href="#" style="color: var(--primary);">$89.50</a></td></tr>
                                <tr><td>08/15/2025</td><td>47,500</td><td>Tire Rotation & Balance</td><td><a href="#" style="color: var(--primary);">$65.00</a></td></tr>
                                <tr><td>05/20/2025</td><td>42,000</td><td>Brake Service</td><td><a href="#" style="color: var(--primary);">$220.00</a></td></tr>
                            </tbody>
                        </table>
                    </div>
                `;
            } else if (section === 'warranty') {
                contentHTML = `
                    <div class="smart-card">
                        <h3>Warranty Status</h3>
                        <p>Current warranty coverage for your vehicle and its components.</p>
                        <p class="status-alert"><i class="fas fa-exclamation-circle"></i> Battery Warranty: Expires in <strong>2 months</strong> - Consider Replacement!</p>
                        <table>
                            <thead><tr><th>Component</th><th>Coverage Type</th><th>Start Date</th><th>Expiration</th></tr></thead>
                            <tbody>
                                <tr><td>Battery</td><td>Limited</td><td>06/15/2023</td><td class="status-alert">06/15/2026</td></tr>
                                <tr><td>Transmission</td><td>PowerTrain</td><td>06/15/2023</td><td class="status-ok">06/15/2028</td></tr>
                                <tr><td>Engine</td><td>PowerTrain</td><td>06/15/2023</td><td class="status-ok">06/15/2028</td></tr>
                            </tbody>
                        </table>
                    </div>
                `;
            } else if (section === 'marketplace') {
                contentHTML = `
                    <div class="smart-card">
                        <h3>Parts Marketplace</h3>
                        <p>AI-recommended parts based on your vehicle's maintenance needs and history.</p>
                    </div>
                    <div class="parts-marketplace">
                        <div class="parts-filters">
                            <button class="filter-option active" data-filter="all">All Parts</button>
                            <button class="filter-option" data-filter="brakes">Brakes</button>
                            <button class="filter-option" data-filter="engine">Engine</button>
                            <button class="filter-option" data-filter="electrical">Electrical</button>
                            <button class="filter-option" data-filter="suspension">Suspension</button>
                            <button class="filter-option" data-filter="filters">Filters & Fluids</button>
                        </div>
                        <div class="parts-grid" id="driver-parts-container"></div>
                    </div>
                `;
                renderParts(vehicleParts, 'driver-parts-container');
            } else if (section === 'alerts') {
                contentHTML = `
                    <div class="smart-card">
                        <h3>Maintenance Alerts</h3>
                        <p>AI-powered alerts for components that need attention based on your vehicle's usage patterns and diagnostic data.</p>
                    </div>
                    <div id="alerts-container">
                        ${renderMaintenanceAlerts()}
                    </div>
                `;
            } else if (section === 'vehicle') {
                contentHTML = `
                    <div class="smart-card">
                        <h3>My Vehicle</h3>
                        <p>Detailed information about your vehicle and its current status.</p>
                        <div class="card-grid card-grid-2" style="margin-top: 20px;">
                            <div class="smart-card">
                                <h4>Vehicle Details</h4>
                                <p><strong>Make:</strong> Honda</p>
                                <p><strong>Model:</strong> Civic LX</p>
                                <p><strong>Year:</strong> 2023</p>
                                <p><strong>VIN:</strong> 2HGFC2F50LH123456</p>
                                <p><strong>Color:</strong> Modern Steel Metallic</p>
                            </div>
                            <div class="smart-card">
                                <h4>Current Status</h4>
                                <p><strong>Overall Health:</strong> <span class="status-ok">Good</span></p>
                                <p><strong>Safety Score:</strong> 87/100</p>
                                <p><strong>Fuel Efficiency:</strong> 34.2 MPG</p>
                                <p><strong>Next Service:</strong> 55,000 km</p>
                                <p><strong>Last Diagnostic:</strong> 2 days ago</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            contentArea.innerHTML = contentHTML;
        }

        // Render maintenance alerts
        function renderMaintenanceAlerts() {
            let alertsHTML = '';
            
            maintenanceAlerts.forEach(alert => {
                let severityClass = '';
                let severityIcon = '';
                
                if (alert.severity === 'high') {
                    severityClass = 'danger';
                    severityIcon = 'exclamation-triangle';
                } else if (alert.severity === 'medium') {
                    severityClass = 'alert';
                    severityIcon = 'exclamation-circle';
                } else {
                    severityClass = 'success';
                    severityIcon = 'info-circle';
                }
                
                alertsHTML += `
                    <div class="alert-card ${severityClass}" style="margin-bottom: 1.5rem;">
                        <div class="alert-icon">
                            <i class="fas fa-${severityIcon}"></i>
                        </div>
                        <div class="alert-content">
                            <div class="alert-title">${alert.part} - ${alert.severity.toUpperCase()} PRIORITY</div>
                            <div>${alert.message}</div>
                            <div style="margin-top: 0.7rem; font-size: 0.95rem;">
                                <strong>Detected at:</strong> ${alert.mileage} | 
                                <strong>Estimated Cost:</strong> ${alert.estimatedCost} |
                                <strong>Urgency:</strong> ${alert.urgency}
                            </div>
                        </div>
                        <div class="alert-actions">
                            <button class="alert-btn primary" onclick="addToCartFromAlert('${alert.part}')">Purchase Part</button>
                            <button class="alert-btn secondary" onclick="scheduleService('${alert.part}')">Schedule Service</button>
                        </div>
                    </div>
                `;
            });
            
            return alertsHTML;
        }

        // Add to cart from alert
        function addToCartFromAlert(partName) {
            // Find the part in vehicleParts
            const part = vehicleParts.find(p => p.name.toLowerCase().includes(partName.toLowerCase()));
            if (part) {
                addToCart(part.id);
                showNotification(`Added ${part.name} to your cart`, 'success');
            } else {
                showNotification(`Part not currently available`, 'warning');
            }
        }

        // Schedule service
        function scheduleService(partName) {
            showNotification(`Scheduling service for ${partName}...`, 'success');
            // In a real app, this would open a service scheduling interface
        }

        // Dismiss alert banner
        function dismissAlert() {
            document.getElementById('maintenance-alert').style.display = 'none';
        }

        // ========== PARTS MARKETPLACE FUNCTIONALITY ==========
        function initializePartsMarketplace() {
            renderParts(vehicleParts, 'parts-container');
            
            // Add filter event listeners
            document.querySelectorAll('.filter-option').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-option').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.filter;
                    filterParts();
                });
            });
        }

        function renderParts(parts, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            parts.forEach(part => {
                const partCard = document.createElement('div');
                partCard.className = 'smart-card part-card';
                partCard.innerHTML = `
                    <div class="part-image">
                        ${part.image}
                    </div>
                    <div class="part-info">
                        <h4>${part.name}</h4>
                        <p style="color: #a8b2d1; margin: 0.7rem 0; font-size: 0.95rem;">${part.description}</p>
                        <div class="part-price">$${part.price}</div>
                        <div class="part-rating">
                            ${'â˜…'.repeat(Math.floor(part.rating))}${part.rating % 1 !== 0 ? 'Â½' : ''} ${part.rating}
                        </div>
                        <button class="action-btn btn-primary" style="width: 100%;" onclick="addToCart(${part.id})">
                            <i class="fas fa-cart-plus"></i>
                            Add to Cart
                        </button>
                    </div>
                `;
                container.appendChild(partCard);
            });
        }

        function filterParts() {
            if (currentCategory === 'all') {
                renderParts(vehicleParts, 'parts-container');
                renderParts(vehicleParts, 'driver-parts-container');
            } else {
                const filteredParts = vehicleParts.filter(part => part.category === currentCategory);
                renderParts(filteredParts, 'parts-container');
                renderParts(filteredParts, 'driver-parts-container');
            }
        }

        // ========== SERVICE CENTERS FUNCTIONALITY ==========
        function initializeServiceCenters() {
            renderServiceCenters(serviceProviders);
        }

        function renderServiceCenters(centers) {
            const container = document.getElementById('centers-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            centers.forEach(center => {
                const centerCard = document.createElement('div');
                centerCard.className = 'smart-card center-card';
                centerCard.innerHTML = `
                    <div class="center-info">
                        <div class="center-icon">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="center-details">
                            <h4>${center.name}</h4>
                            <p style="color: #a8b2d1;">${center.address}</p>
                            <div class="part-rating">
                                ${'â˜…'.repeat(Math.floor(center.rating))}${center.rating % 1 !== 0 ? 'Â½' : ''} ${center.rating}
                            </div>
                        </div>
                    </div>
                    <div class="center-meta">
                        <div><i class="fas fa-phone"></i> ${center.phone}</div>
                        <div><i class="fas fa-clock"></i> ${center.hours}</div>
                    </div>
                    <div style="display: flex; gap: 0.7rem; margin-top: 1.2rem;">
                        <button class="action-btn btn-secondary" style="flex: 1;">
                            <i class="fas fa-directions"></i>
                            Get Directions
                        </button>
                        <button class="action-btn btn-primary" style="flex: 1;">
                            <i class="fas fa-calendar-check"></i>
                            Book Service
                        </button>
                    </div>
                `;
                container.appendChild(centerCard);
            });
        }

        // ========== CART FUNCTIONALITY ==========
        function addToCart(partId) {
            const part = vehicleParts.find(p => p.id === partId);
            const existingItem = shoppingCart.find(item => item.id === partId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                shoppingCart.push({
                    id: part.id,
                    name: part.name,
                    price: part.price,
                    image: part.image,
                    quantity: 1
                });
            }
            
            updateCartCount();
            renderCartItems();
            showNotification(`${part.name} added to cart`, 'success');
        }

        function removeFromCart(partId) {
            shoppingCart = shoppingCart.filter(item => item.id !== partId);
            updateCartCount();
            renderCartItems();
        }

        function updateQuantity(partId, change) {
            const item = shoppingCart.find(item => item.id === partId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(partId);
                } else {
                    updateCartCount();
                    renderCartItems();
                }
            }
        }

        function updateCartCount() {
            const count = shoppingCart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = count;
        }

        function renderCartItems() {
            const container = document.getElementById('cart-items');
            const subtotalElement = document.getElementById('cart-subtotal');
            const shippingElement = document.getElementById('cart-shipping');
            const totalElement = document.getElementById('cart-total');
            
            if (shoppingCart.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: #a8b2d1; padding: 2.5rem;">
                        <i class="fas fa-shopping-bag" style="font-size: 3.2rem; margin-bottom: 1.2rem;"></i>
                        <p>Your cart is empty</p>
                    </div>
                `;
                subtotalElement.textContent = '$0.00';
                shippingElement.textContent = '$0.00';
                totalElement.textContent = '$0.00';
                return;
            }
            
            let subtotal = 0;
            container.innerHTML = '';
            
            shoppingCart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        ${item.image}
                    </div>
                    <div class="cart-item-details">
                        <h4>${item.name}</h4>
                        <div class="part-price">$${item.price}</div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            <button class="action-btn" style="margin-left: auto; padding: 0.3rem 0.6rem; background: rgba(239,71,111,0.2);" onclick="removeFromCart(${item.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(cartItem);
            });
            
            const shipping = subtotal > 0 ? 12.99 : 0;
            const total = subtotal + shipping;
            
            subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
            shippingElement.textContent = `$${shipping.toFixed(2)}`;
            totalElement.textContent = `$${total.toFixed(2)}`;
        }

        function toggleCart() {
            document.getElementById('cart-panel').classList.toggle('active');
            document.getElementById('cart-overlay').classList.toggle('active');
        }

        function checkout() {
            if (shoppingCart.length === 0) {
                showNotification('Your cart is empty', 'warning');
                return;
            }
            
            showNotification('Processing your order...', 'success');
            // In a real app, this would redirect to a checkout page
        }

        // ========== REFLEX TEST LOGIC ==========
        function startReflexTest() {
            const instructions = document.getElementById('reflex-instructions');
            const display = document.getElementById('stimulus-display');
            const button = document.getElementById('reflex-button');
            const result = document.getElementById('reflex-result');

            // Reset state
            result.textContent = '';
            display.textContent = '...';
            display.classList.remove('stimulus-active');
            button.textContent = 'WAIT FOR SIGNAL...';
            button.disabled = true;
            waitingForStimulus = true;

            // Set random delay (2000ms to 5000ms)
            const randomDelay = Math.random() * 3000 + 2000; 

            // Set the timeout for the stimulus to appear
            reflexTimeout = setTimeout(() => {
                // Stimulus appears: Start the timer
                display.textContent = 'TAP NOW!';
                display.classList.add('stimulus-active');
                button.textContent = 'TAP!';
                button.disabled = false;
                waitingForStimulus = false;

                // Record the moment the stimulus appears
                reflexStartTime = Date.now();
                
            }, randomDelay);
            
            // Check for early tap
            button.onclick = function() {
                if (waitingForStimulus) {
                    clearTimeout(reflexTimeout);
                    result.textContent = 'âš ï¸ TOO EARLY! Wait for the signal before tapping.';
                    resetReflexTest();
                    return;
                }
                // Proceed to calculate reflex time
                calculateReflexTime();
            }
        }

        function calculateReflexTime() {
            const endTime = Date.now();
            const timeTaken = (endTime - reflexStartTime) / 1000; // Convert to seconds

            let feedback = '';

            if (timeTaken < 0.25) {
                feedback = 'Exceptional reflexes! You are alert and ready to drive.';
            } else if (timeTaken < 0.4) {
                feedback = 'Good reflexes. You are within a safe range for driving.';
            } else if (timeTaken < 0.6) {
                feedback = 'Average reflexes. Consider taking a break before driving.';
            } else {
                feedback = 'âš ï¸ SLOW REFLEX TIME. Do not drive until you are more alert.';
            }

            document.getElementById('reflex-result').textContent = `Reaction Time: ${timeTaken.toFixed(3)} seconds. ${feedback}`;
            resetReflexTest();
        }

        function resetReflexTest() {
            const button = document.getElementById('reflex-button');
            const instructions = document.getElementById('reflex-instructions');
            const display = document.getElementById('stimulus-display');
            
            // Clean up
            display.textContent = '';
            display.classList.remove('stimulus-active');
            button.textContent = 'START TEST';
            button.disabled = false;
            waitingForStimulus = false;
            
            // Restore original button click handler
            button.onclick = startReflexTest;
            instructions.textContent = 'Click \'Start Test\' to begin the pre-drive reflex assessment.';
        }

        // ========== AI ASSISTANT FUNCTIONALITY ==========
        function toggleAssistant() {
            const assistant = document.getElementById('ai-assistant');
            assistant.style.display = assistant.style.display === 'none' ? 'block' : 'none';
        }

        function toggleVoice() {
            voiceActive = !voiceActive;
            const btn = event.currentTarget;
            btn.innerHTML = voiceActive ? '<i class="fas fa-microphone-slash"></i>' : '<i class="fas fa-microphone"></i>';
            btn.style.background = voiceActive ? 'var(--success)' : 'rgba(255,255,255,0.1)';
            
            if (voiceActive) {
                startVoiceRecognition();
            }
        }

        function startVoiceRecognition() {
            // In a real app, this would use the Web Speech API
            showNotification('Voice recognition activated. Speak now.', 'success');
        }

        function sendMessage() {
            const input = document.getElementById('assistant-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const messages = document.getElementById('assistant-messages');
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.textContent = message;
            messages.appendChild(userMessage);
            
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const response = getAIResponse(message);
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai';
                aiMessage.textContent = response;
                messages.appendChild(aiMessage);
                messages.scrollTop = messages.scrollHeight;
                
                if (voiceActive) {
                    // In a real app, this would use text-to-speech
                }
            }, 1000);
        }

        function getAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('part') || lowerMessage.includes('buy') || lowerMessage.includes('shop')) {
                return "I can help you find the right parts for your vehicle. Check out our Parts Marketplace for brake pads, filters, batteries, and more. Is there a specific part you're looking for?";
            } else if (lowerMessage.includes('service') || lowerMessage.includes('repair') || lowerMessage.includes('mechanic')) {
                return "We have a network of certified service centers. You can browse them in the Service Centers section and book appointments directly. What type of service do you need?";
            } else if (lowerMessage.includes('brake') || lowerMessage.includes('pad')) {
                return "I've detected your brake pads need replacement. We have premium brake pads starting at $94.99 in our Parts Marketplace.";
            } else if (lowerMessage.includes('oil') || lowerMessage.includes('filter')) {
                return "Your vehicle's oil and filters should be replaced regularly. We carry synthetic engine oil ($39.99) and oil filters ($14.99).";
            } else if (lowerMessage.includes('alert') || lowerMessage.includes('maintenance')) {
                return "You have 3 active maintenance alerts. Check the Maintenance Alerts section for details and recommended actions.";
            } else if (lowerMessage.includes('reflex') || lowerMessage.includes('safety')) {
                return "You can take the pre-drive reflex test in the Safety Check section of your dashboard.";
            } else if (lowerMessage.includes('warranty')) {
                return "To check your warranty status, navigate to the Warranty Status section in the sidebar. I see your battery warranty is expiring soon.";
            } else {
                return "I can help you with vehicle maintenance, safety checks, parts recommendations, or answering questions about your vehicle. What would you like to know?";
            }
        }

        // ========== UTILITY FUNCTIONS ==========
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 120px;
                right: 35px;
                background: ${type === 'success' ? 'var(--success)' : 'var(--warning)'};
                color: white;
                padding: 1.2rem 1.8rem;
                border-radius: 8px;
                box-shadow: var(--shadow-lg);
                z-index: 10000;
                animation: fadeInUp 0.4s ease;
                font-weight: 500;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3500);
        }

        // ========== SMOOTH SCROLLING ==========
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Service centers map integration placeholder
        function findServiceCenters() {
            const contentArea = document.getElementById('driver-content-area');
            contentArea.innerHTML = `
                <div class="smart-card">
                    <h3>Find Service Centers</h3>
                    <p>Locate certified service centers near your current location.</p>
                    <div class="map-container">
                        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#a8b2d1;">
                            <div style="text-align:center;">
                                <i class="fas fa-map-marked-alt" style="font-size:3rem; margin-bottom:1rem;"></i>
                                <p>Service centers map would be displayed here</p>
                            </div>
                        </div>
                    </div>
                    <div class="centers-grid" id="centers-container"></div>
                </div>
            `;
            renderServiceCenters(serviceProviders);
            // Revert active state of sidebar links
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
        }
    </script>

    <!-- Cart Panel -->
    <div class="cart-overlay" id="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-panel" id="cart-panel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2.2rem;">
            <h3>Shopping Cart</h3>
            <button class="action-btn" style="padding: 0.6rem; background: rgba(255,255,255,0.1);" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div id="cart-items">
            <div style="text-align: center; color: #a8b2d1; padding: 2.5rem;">
                <i class="fas fa-shopping-bag" style="font-size: 3.2rem; margin-bottom: 1.2rem;"></i>
                <p>Your cart is empty</p>
            </div>
        </div>
        
        <div style="margin-top: 2.2rem; padding-top: 1.2rem; border-top: 1px solid rgba(255,255,255,0.1);">
            <div style="display: flex; justify-content: space-between; margin-bottom: 1.2rem;">
                <span>Subtotal:</span>
                <span id="cart-subtotal">$0.00</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 1.8rem;">
                <span>Shipping:</span>
                <span id="cart-shipping">$0.00</span>
            </div>
            <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.3rem; margin-bottom: 1.8rem;">
                <span>Total:</span>
                <span id="cart-total">$0.00</span>
            </div>
            <button class="action-btn btn-primary" style="width: 100%;" onclick="checkout()">
                <i class="fas fa-credit-card"></i>
                Proceed to Checkout
            </button>
        </div>
    </div>
</body>
</html>
